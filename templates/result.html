{% extends "main.html" %}

{% block title %}RESULT{% endblock title %}

{% block content %}
<div>
    Result: <h2 id="result-field"></h2>
    <div>
        <form method="post">
            {% csrf_token %}
            total correct answer: <input id="got-score" name="gotScore" readonly>
            <div>
                total questions: <input value="14" readonly>
            </div>
            <hr>
            <div>
                <button id="finish-up" type="submit">FINISH</button>
            </div>
        </form>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Retrieve scores from localStorage
        let gotScore = parseInt(localStorage.getItem('score')) || 0;
        
        // Display the score
        document.getElementById('got-score').value = `${gotScore}`;
        
        if (gotScore > 12){
            document.getElementById('result-field').innerHTML = "PASS";
        }else{
            document.getElementById('result-field').innerHTML = "FAIL";

        }
    });
    
    document.querySelector('#finish-up').addEventListener('click', function() {
            localStorage.removeItem('score');
            localStorage.removeItem('totalCount');
            
            location.href = "{% url 'index' %}"
            
        });
    </script>
{% endblock content %}